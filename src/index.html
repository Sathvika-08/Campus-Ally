<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    Hello! This is my test git project
</body>
</html>
















Clone the Git Repository
Go to File ‚Üí Import‚Ä¶
Select Git ‚Üí Projects from Git ‚Üí Click Next.
Choose Clone URI ‚Üí Click Next.
Enter the repository details:
URI: Repository URL (e.g., https://github.com/username/repo.git)
Host and Repository path will auto-fill.
Enter Username/Password if required.
Click Next, select the branch(es) you want ‚Üí Next.
Choose a local directory where the repo will be cloned ‚Üí Next.




Correct pom.xml
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>

  <groupId>SE</groupId>
  <artifactId>HospitalMgmtSystem</artifactId>
  <packaging>war</packaging>
  <version>0.0.1</version>
  <name>HospitalMgmtSystem Maven Webapp</name>
  <url>https://github.com/yourusername/HospitalMgmtSystem</url>

  <properties>
    <maven.compiler.release>21</maven.compiler.release>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
  </properties>

  <dependencies>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <version>4.13.2</version>
      <scope>test</scope>
    </dependency>

    <dependency>
      <groupId>jakarta.servlet</groupId>
      <artifactId>jakarta.servlet-api</artifactId>
      <version>4.0.4</version>
      <scope>provided</scope>
    </dependency>
  </dependencies>

  <build>
    <finalName>HospitalMgmtSystem</finalName>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-compiler-plugin</artifactId>
        <version>3.11.0</version>
        <configuration>
          <release>${maven.compiler.release}</release>
        </configuration>
      </plugin>
    </plugins>
  </build>
</project>




From cloned prject to our account
git remote set-url origin https://github.com/yourusername/HospitalMgmtSystem.git
git push -u origin main


DEPENDENCIES
<dependency>
  <groupId>junit</groupId>
  <artifactId>junit</artifactId>
  <version>4.13.2</version>
  <scope>test</scope>
</dependency>

<dependency>
  <groupId>javax.servlet</groupId>
  <artifactId>servlet-api</artifactId>
  <version>2.5</version>
  <scope>provided</scope>
</dependency>

<dependency>
  <groupId>jakarta.servlet</groupId>
  <artifactId>jakarta.servlet-api</artifactId>
  <version>4.0.1</version>
  <scope>provided</scope>
</dependency>

<dependency>
  <groupId>javax.servlet.jsp</groupId>
  <artifactId>jsp-api</artifactId>
  <version>2.2</version>
  <scope>provided</scope>
</dependency>

<dependency>
  <groupId>javax.servlet</groupId>
  <artifactId>jstl</artifactId>
  <version>1.2</version>
</dependency>


<dependency>
  <groupId>mysql</groupId>
  <artifactId>mysql-connector-java</artifactId>
  <version>8.0.33</version>
</dependency>



//PLUGINS
<plugin>
  <groupId>org.apache.maven.plugins</groupId>
  <artifactId>maven-compiler-plugin</artifactId>
  <version>3.11.0</version>
  <configuration>
    <release>21</release> <!-- or source/target -->
  </configuration>
</plugin>


<plugin>
  <groupId>org.apache.maven.plugins</groupId>
  <artifactId>maven-war-plugin</artifactId>
  <version>3.3.2</version>
  <configuration>
    <failOnMissingWebXml>false</failOnMissingWebXml> <!-- for servlet 3+ -->
    <warName>HospitalMgmtSystem</warName>
  </configuration>
</plugin>


<plugin>
  <groupId>org.apache.maven.plugins</groupId>
  <artifactId>maven-surefire-plugin</artifactId>
  <version>3.2.5</version>
</plugin>


<plugin>
  <groupId>org.apache.tomcat.maven</groupId>
  <artifactId>tomcat7-maven-plugin</artifactId>
  <version>2.2</version>
  <configuration>
    <url>http://localhost:8080/manager/text</url>
    <server>TomcatServer</server>
    <path>/HospitalMgmtSystem</path>
  </configuration>
</plugin>


<plugin>
  <groupId>org.apache.maven.plugins</groupId>
  <artifactId>maven-clean-plugin</artifactId>
  <version>3.2.0</version>
</plugin>

<plugin>
  <groupId>org.apache.maven.plugins</groupId>
  <artifactId>maven-install-plugin</artifactId>
  <version>3.1.0</version>
</plugin>


mvn dependency:tree   # Show dependency tree
mvn dependency:copy-dependencies








# Git/GitHub Command Cheat Sheet

### Repository Setup / Initialization

| Command                | Purpose                                    |
| ---------------------- | ------------------------------------------ |
| git init             | Initialize a new Git repository locally    |
| git clone <repo-url> | Clone a remote repository to local machine |
| git status           | Show untracked, modified, and staged files |

---

### Staging & Committing

| Command                       | Purpose                          |
| ----------------------------- | -------------------------------- |
| git add <file>              | Stage a specific file for commit |
| git add .                   | Stage all changes for commit     |
| git commit -m "message"     | Commit staged changes locally    |
| git restore --staged <file> | Unstage a file                   |

---

### Tracking Files

| Command          | Purpose                        |
| ---------------- | ------------------------------ |
| git add <file> | Track a new file               |
| git status     | See tracked vs untracked files |

---

### Viewing Changes / Diffs

| Command                | Purpose                                |
| ---------------------- | -------------------------------------- |
| git diff             | Show unstaged changes                  |
| git diff --staged    | Show staged changes                    |
| git show             | Show last commit changes               |
| git show --name-only | Show file names changed in last commit |
| git show --stat      | Show summary of changes in last commit |

---

### Viewing Commit History

| Command                           | Purpose                                   |
| --------------------------------- | ----------------------------------------- |
| git log                         | Show full commit history                  |
| git log --oneline               | Show compact commit history               |
| git log --oneline --graph --all | Show commit history with branch structure |
| git log -n 5                    | Show last 5 commits                       |

---

### Branching & Merging

| Command                    | Purpose                            |
| -------------------------- | ---------------------------------- |
| git branch               | List local branches                |
| git branch -r            | List remote branches               |
| git checkout -b <branch> | Create & switch to new branch      |
| git checkout <branch>    | Switch to existing branch          |
| git merge <branch>       | Merge a branch into current branch |

---

### Remote Repositories

| Command                            | Purpose                              |
| ---------------------------------- | ------------------------------------ |
| git remote add origin <repo-url> | Add a remote repository              |
| git fetch origin                 | Fetch remote updates without merging |
| git pull                         | Fetch and merge remote changes       |
| git push origin <branch>         | Push local branch to remote          |
| git push -u origin <branch>      | Push and set upstream                |

---

### Fork & Pull Request Workflow

| Command / Action                    | Purpose                                     |
| ----------------------------------- | ------------------------------------------- |
| Fork on GitHub                      | Create your own copy of the repo            |
| git clone <your-fork-url>         | Clone your fork locally                     |
| git checkout -b feature/<name>    | Create branch for new feature               |
| git add . ‚Üí git commit -m "msg" | Stage & commit changes                      |
| git push origin feature/<name>    | Push branch to fork                         |
| Create Pull Request on GitHub       | Request to merge changes into original repo |

---

### Comparing Local & Remote

| Command                     | Purpose                                          |
| --------------------------- | ------------------------------------------------ |
| git fetch origin          | Fetch remote updates                             |
| git diff main origin/main | Show differences between local and remote branch |
| git log origin/main..main | Show local commits not on remote                 |
| git log main..origin/main | Show remote commits not on local                 |
| git status                | Show ahead/behind counts                         |

---

### Untracked / New Files

| Command                    | Purpose                                             |
| -------------------------- | --------------------------------------------------- |
| rm <file> / del <file> | Delete untracked file                               |
| git restore <file>       | Restore file to last committed state (tracked only) |






DOCKER
# üìù Part 1: Dockerfile for Your App

üëâ Since your project builds a WAR file, your Dockerfile should look like this (inside your project root folder):

dockerfile
# Use official Tomcat base image
FROM tomcat:9.0-jdk11

# Clean default webapps (optional, avoids Tomcat sample apps)
RUN rm -rf /usr/local/tomcat/webapps/*

# Copy your WAR file from Maven build into Tomcat
# Use wildcard so you don‚Äôt need to update version manually
COPY target/*.war /usr/local/tomcat/webapps/ROOT.war

# Expose Tomcat‚Äôs default port
EXPOSE 8080

# Start Tomcat when the container launches
CMD ["catalina.sh", "run"]

### Steps:

1. Run Maven first:

   bash
   mvn clean package
   

   ‚Üí generates your target/xxx.war.

2. Build Docker image:

   bash
   docker build -t hospital-app .
   

3. Run container (map host 9090 ‚Üí container 8080):

   bash
   docker run -d -p 9090:8080 --name hospital-container hospital-app
   

4. Open your app:

   
   http://localhost:9090/
   

---


# üìù Part 2: Question 4 ‚Äì Redis Container

Redis is separate, so you don‚Äôt need it in your Dockerfile. You just run it as another container.

### Step 1: Pull Redis image

bash
docker pull redis:latest


### Step 2: Run Redis container

bash
docker run -d --name my-redis -p 6379:6379 redis:latest


* -d ‚Üí detached
* --name my-redis ‚Üí easy to reference
* -p 6379:6379 ‚Üí maps Redis port

### Step 3: Verify container is running

bash
docker ps


Expected to see something like:


CONTAINER ID   IMAGE          COMMAND                  STATUS        PORTS
abcd1234efgh   redis:latest   "docker-entrypoint..."   Up 10 sec     0.0.0.0:6379->6379/tcp


### Step 4: Test Redis connection

Run Redis CLI inside the container:

bash
docker exec -it my-redis redis-cli ping


Output should be:


PONG

Step 6: (Optional) Push to Docker Hub

Create a free account on Docker Hub
.

In your terminal, login:

docker login


Tag your image with your username:

docker tag hospital-app yourusername/hospital-app:1.0


Push it:

docker push yourusername/hospital-app:1.0


Now anyone can pull your app with:

docker pull yourusername/hospital-app:1.0










# A ‚Äî Dockerfile examples

## 1) If your project builds a WAR (deploy to Tomcat)

Create a `Dockerfile` next to your project root (after `mvn package` there should be `target/yourapp.war`):

```dockerfile

FROM tomcat:9.0-jdk11-openjdk
RUN rm -rf /usr/local/tomcat/webapps/*
COPY target/yourapp.war /usr/local/tomcat/webapps/ROOT.war
EXPOSE 8080
CMD ["catalina.sh", "run"]

    
```

Notes:

* Replace `yourapp.war` with the actual WAR name created by `mvn package`.
* Building `ROOT.war` makes the app available at `http://host:8080/` inside the container.

## 2) If your project produces a Spring Boot (fat) JAR

```dockerfile
# Dockerfile (Spring Boot fat JAR)
FROM openjdk:17-jdk-slim

ARG JAR_FILE=target/*.jar
COPY ${JAR_FILE} app.jar

EXPOSE 8080

ENTRYPOINT ["java","-jar","/app.jar"]
```

Notes:

* Build with `mvn clean package` first. The JAR ends up in `target/`.
* If your app uses a different port, change the `EXPOSE` or use an environment variable.

(If you want a multi-stage build that compiles inside Docker, I can add that ‚Äî but the above is the simplest.)

---

# B ‚Äî Commands & answers to the numbered questions

I‚Äôll use the example local image name `hospital-regapp:latest` and container name `hospital-container`. Replace `yourusername` and names as needed.

### 1) Which CLI command to build the Docker image with the name `hospital-regapp`?

If your `Dockerfile` is in the current directory:

```bash
# Build and tag locally as hospital-regapp:latest
docker build -t hospital-regapp:latest .
```

Or tag directly with your Docker Hub username:

```bash
docker build -t yourusername/hospital-regapp:1.0 .
```

Explanation: `-t` tags the image name\:tag and `.` is the build context.

---

### 2) Which command to list all available Docker images on your machine?

```bash
docker images
# or the newer form
docker image ls
```

This shows repository, tag, image id, size, etc.

---

### 3) Run the container mapping container port 8080 ‚Üí host port 9090 (full `docker run`)

```bash
docker run -d --name hospital-container -p 9090:8080 hospital-regapp:latest
```


  After that, access the app at `http://localhost:9090/` (if the app serves `/`).

---

### 4) Pull the official Redis image from Docker Hub, run it, and verify it's accessible at `localhost:6379`

```bash
# pull
docker pull redis:latest

# run detached with port mapping
docker run -d --name my-redis -p 6379:6379 redis:latest

# list running containers
docker ps
```

To verify Redis responds:

```bash
# if you have redis-cli installed locally
redis-cli -h 127.0.0.1 -p 6379 ping

# or use docker exec into the container
docker exec -it my-redis redis-cli ping
```

Expected response: `PONG`.

---

### 5) Tag and push the image to Docker Hub under your account (e.g. `yourusername/hospital-regapp`)

Steps:

```bash
# 1. login (you‚Äôll be prompted for credentials)
docker login

# 2. tag local image with your username/repo:tag
docker tag hospital-regapp:latest yourusername/hospital-regapp:1.0

# 3. push
docker push yourusername/hospital-regapp:1.0
```

If repository doesn‚Äôt exist on Docker Hub, pushing will create it (or create via Docker Hub UI and set visibility to public).

---

### 6) You forgot to expose/mapping ports ‚Äî how to stop and rerun correctly?

You cannot change port mapping of a running container ‚Äî stop & remove then run with `-p`.

```bash
# find container (if you forgot the name)
docker ps

# stop
docker stop hospital-container

# remove
docker rm hospital-container

# rerun with proper port mapping
docker run -d --name hospital-container -p 9090:8080 hospital-regapp:latest
```

Alternatively, keep data by using volumes and run a new container with the same volume(s).

---

### 7) Container crashes immediately after startup ‚Äî how to inspect logs and debug?

Useful commands:

```bash
# show the last 100 lines of logs
docker logs --tail 100 hospital-container

# follow logs live
docker logs -f hospital-container

# inspect container state & exit code
docker inspect --format='{{.State.ExitCode}} {{.State.Status}}' hospital-container

# to get more structured info
docker inspect hospital-container
```

Debug tips:

* If it crashes at start, run it interactively to see stdout:

```bash
docker run --rm -it --name debug-run hospital-regapp:latest
# (omit -d so you see console output)
```

* Or override entrypoint to get a shell:

```bash
docker run --rm -it --entrypoint /bin/bash hospital-regapp:latest
```

Then inspect files in `/usr/local/tomcat/webapps` or `/app.jar` etc.

---

### 8) Push your custom Docker image (deployed app) to Docker Hub and make public

This is the same as Q5 ‚Äî ensure you `docker login`, tag with `yourusername/repo:tag`, and `docker push`. Then go to Docker Hub web UI and set repository visibility to **Public** if you want everyone to pull it.

```bash
docker tag hospital-regapp:latest yourusername/hospital-regapp:1.0
docker push yourusername/hospital-regapp:1.0
```

---

### 9) Connect into a running container interactively to check files ‚Äî open a shell inside

If the container is running:

```bash
docker exec -it hospital-container /bin/bash
# if bash not present, use sh:
docker exec -it hospital-container /bin/sh
```

If the container is not running and you want to start a shell from the image:

```bash
docker run -it --rm --entrypoint /bin/bash hospital-regapp:latest
```

---

### 10) You want to list the removed containers ‚Äî which commands to use?

Important distinction:

* **Stopped/exited containers** (still present on disk): list with:

```bash
docker ps -a                 # all containers, including exited
docker ps -a --filter "status=exited"
```

* **Removed/deleted containers** (you already ran `docker rm`): once removed, Docker does **not** keep them in a list. There's no built-in command to list containers you removed in the past. To track deletions going forward, you can use `docker events` to log events or enable external logging/monitoring.

To remove containers (if you want to actually remove them):

```bash
# remove one
docker rm CONTAINER_ID_OR_NAME

# remove all exited containers
docker container prune     # interactively confirms
# or safer: docker rm $(docker ps -a -q -f status=exited)
```

---

# C ‚Äî Helpful tips / common pitfalls

* Always run `mvn clean package` first and make sure the artifact is in `target/`.
* Check the artifact name (e.g. `target/myapp-1.0.war`) ‚Äî use the exact name or wildcard in the Dockerfile COPY.
* If Tomcat app returns 404, confirm WAR deployed to `webapps/` and container logs for deployment errors.
* Java version mismatch can crash containers ‚Äî match JDK version (e.g. app built for Java 17 ‚Üí use `openjdk:17`).
* Use `docker logs -f <container>` and `docker exec -it` often for debugging.
* If pushing to Docker Hub, remember to `docker logout` on shared machines.

---

If you want, I can:

* produce a ready `Dockerfile` customized for your exact `target/*.war` name, or
* write a `docker-compose.yml` that runs your app plus Redis together, or
* show a multi-stage Dockerfile that builds the Maven project inside Docker.

Tell me which artifact type your project produces (WAR or Spring Boot JAR) and the exact artifact name and I‚Äôll drop a copy-paste Dockerfile and a sequence of commands tailored to it.

